<!DOCTYPE html>
<html devsite="">
  <head>
    <meta name="project_path" value="/dotnet/_project.yaml">
    <meta name="book_path" value="/dotnet/_book.yaml">
  </head>
  <body>
    <div>
      <h1 class="page-title">Class PooledSession
</h1>
      <article data-uid="Google.Cloud.Spanner.V1.PooledSession">
  
  
  <div class="markdown level0 summary"><p>A session from a <a class="xref" href="Google.Cloud.Spanner.V1.SessionPool.html">SessionPool</a>, with an associated transaction if
requested. Instances must be released back to the pool via <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html#Google_Cloud_Spanner_V1_PooledSession_ReleaseToPool_System_Boolean_">ReleaseToPool(Boolean)</a>.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">PooledSession</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gethashcode#System_Object_GetHashCode">Object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.gettype#System_Object_GetType">Object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.memberwiseclone#System_Object_MemberwiseClone">Object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object.tostring#System_Object_ToString">Object.ToString()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Google.Cloud.Spanner.V1.html">Google.Cloud.Spanner.V1</a></h6>
  <h6><strong>Assembly</strong>: Google.Cloud.Spanner.V1.dll</h6>
  <h5 id="Google_Cloud_Spanner_V1_PooledSession_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="prettyprint">public sealed class PooledSession : IDisposable</code></pre>
  </div>
  <h5 id="Google_Cloud_Spanner_V1_PooledSession_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>
Each method in this class modifies requests passed as arguments to RPC methods, to populate
the session and transaction properties.
</p>
<p>
This class keeps track of successful RPCs to update its internal refresh timer. This can&apos;t
be applied for streaming SQL calls, as <a class="xref" href="Google.Cloud.Spanner.V1.ReliableStreamReader.html">ReliableStreamReader</a> performs the actual
RPCs in that case.
</p>
</div>
  <h2 id="properties">Properties
  </h2>
  <a id="Google_Cloud_Spanner_V1_PooledSession_SessionName_" data-uid="Google.Cloud.Spanner.V1.PooledSession.SessionName*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_SessionName" data-uid="Google.Cloud.Spanner.V1.PooledSession.SessionName">SessionName</h3>
  <div class="markdown level1 summary"><p>The name of the session. This is never null.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public SessionName SessionName { get; }</code></pre>
  </div>
  <h4 class="propertyValue">Property Value</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.SessionName.html">SessionName</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_TransactionId_" data-uid="Google.Cloud.Spanner.V1.PooledSession.TransactionId*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_TransactionId" data-uid="Google.Cloud.Spanner.V1.PooledSession.TransactionId">TransactionId</h3>
  <div class="markdown level1 summary"><p>The ID of the transaction. May be null.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public ByteString TransactionId { get; }</code></pre>
  </div>
  <h4 class="propertyValue">Property Value</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Google.Protobuf.ByteString</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h2 id="methods">Methods
  </h2>
  <a id="Google_Cloud_Spanner_V1_PooledSession_CommitAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.CommitAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_CommitAsync_Google_Cloud_Spanner_V1_CommitRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.CommitAsync(Google.Cloud.Spanner.V1.CommitRequest,Google.Api.Gax.Grpc.CallSettings)">CommitAsync(CommitRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Executes a Commit RPC asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task&lt;CommitResponse&gt; CommitAsync(CommitRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.CommitRequest.html">CommitRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The commit request. Must not be null. The request will be modified with session and transaction details
from this object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Google.Cloud.Spanner.V1.CommitResponse.html">CommitResponse</a>&gt;</td>
        <td><p>A task representing the asynchronous operation. When the task completes, the result is the response from the RPC.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_Dispose_" data-uid="Google.Cloud.Spanner.V1.PooledSession.Dispose*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_Dispose" data-uid="Google.Cloud.Spanner.V1.PooledSession.Dispose">Dispose()</h3>
  <div class="markdown level1 summary"><p>Releases this session back to the session pool. This method should only be called once per instance; subsequent
calls are ignored. No other methods can be called after this.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public void Dispose()</code></pre>
  </div>
  <h4 id="Google_Cloud_Spanner_V1_PooledSession_Dispose_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This method is equivalent to calling <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html#Google_Cloud_Spanner_V1_PooledSession_ReleaseToPool_System_Boolean_">ReleaseToPool(Boolean)</a> with an argument of <code>false</code>.</p>
</div>
  <a id="Google_Cloud_Spanner_V1_PooledSession_ExecuteBatchDmlAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteBatchDmlAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_ExecuteBatchDmlAsync_Google_Cloud_Spanner_V1_ExecuteBatchDmlRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteBatchDmlAsync(Google.Cloud.Spanner.V1.ExecuteBatchDmlRequest,Google.Api.Gax.Grpc.CallSettings)">ExecuteBatchDmlAsync(ExecuteBatchDmlRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Executes an ExecuteBatchDml RPC asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task&lt;ExecuteBatchDmlResponse&gt; ExecuteBatchDmlAsync(ExecuteBatchDmlRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.ExecuteBatchDmlRequest.html">ExecuteBatchDmlRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The query request. Must not be null. The request will be modified with session and transaction details
from this object. If this object&apos;s <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html#Google_Cloud_Spanner_V1_PooledSession_TransactionId">TransactionId</a> is null, the request&apos;s transaction is not modified.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Google.Cloud.Spanner.V1.ExecuteBatchDmlResponse.html">ExecuteBatchDmlResponse</a>&gt;</td>
        <td><p>A task representing the asynchronous operation. When the task completes, the result is the response from the RPC.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_ExecuteSqlAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteSqlAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_ExecuteSqlAsync_Google_Cloud_Spanner_V1_ExecuteSqlRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteSqlAsync(Google.Cloud.Spanner.V1.ExecuteSqlRequest,Google.Api.Gax.Grpc.CallSettings)">ExecuteSqlAsync(ExecuteSqlRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Executes an ExecuteSql RPC asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task&lt;ResultSet&gt; ExecuteSqlAsync(ExecuteSqlRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.ExecuteSqlRequest.html">ExecuteSqlRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The query request. Must not be null. The request will be modified with session and transaction details
from this object. If this object&apos;s <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html#Google_Cloud_Spanner_V1_PooledSession_TransactionId">TransactionId</a> is null, the request&apos;s transaction is not modified.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Google.Cloud.Spanner.V1.ResultSet.html">ResultSet</a>&gt;</td>
        <td><p>A task representing the asynchronous operation. When the task completes, the result is the response from the RPC.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_ExecuteSqlStreamReader_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteSqlStreamReader*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_ExecuteSqlStreamReader_Google_Cloud_Spanner_V1_ExecuteSqlRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ExecuteSqlStreamReader(Google.Cloud.Spanner.V1.ExecuteSqlRequest,Google.Api.Gax.Grpc.CallSettings)">ExecuteSqlStreamReader(ExecuteSqlRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Creates a <a class="xref" href="Google.Cloud.Spanner.V1.ReliableStreamReader.html">ReliableStreamReader</a> for the given request</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public ReliableStreamReader ExecuteSqlStreamReader(ExecuteSqlRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.ExecuteSqlRequest.html">ExecuteSqlRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The query request. Must not be null. The request will be modified with session and transaction details
from this object. If this object&apos;s <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html#Google_Cloud_Spanner_V1_PooledSession_TransactionId">TransactionId</a> is null, the request&apos;s transaction is not modified.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.ReliableStreamReader.html">ReliableStreamReader</a></td>
        <td><p>A <a class="xref" href="Google.Cloud.Spanner.V1.ReliableStreamReader.html">ReliableStreamReader</a> for the streaming SQL request.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_PartitionQueryAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.PartitionQueryAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_PartitionQueryAsync_Google_Cloud_Spanner_V1_PartitionQueryRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.PartitionQueryAsync(Google.Cloud.Spanner.V1.PartitionQueryRequest,Google.Api.Gax.Grpc.CallSettings)">PartitionQueryAsync(PartitionQueryRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Executes a PartitionQuery RPC asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task&lt;PartitionResponse&gt; PartitionQueryAsync(PartitionQueryRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.PartitionQueryRequest.html">PartitionQueryRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The partitioning request. Must not be null. The request will be modified with session details
from this object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Google.Cloud.Spanner.V1.PartitionResponse.html">PartitionResponse</a>&gt;</td>
        <td><p>A task representing the asynchronous operation. When the task completes, the result is the response from the RPC.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_ReleaseToPool_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ReleaseToPool*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_ReleaseToPool_System_Boolean_" data-uid="Google.Cloud.Spanner.V1.PooledSession.ReleaseToPool(System.Boolean)">ReleaseToPool(Boolean)</h3>
  <div class="markdown level1 summary"><p>Returns this session to the session pool from which it was acquired, unless
it has become invalid. This method should only be called once per instance; subsequent
calls are ignored. No other methods can be called after this.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public void ReleaseToPool(bool forceDelete)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><span class="parametername">forceDelete</span></td>
        <td><p>true to force the session to be deleted; false to allow the session to be reused.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_RollbackAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.RollbackAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_RollbackAsync_Google_Cloud_Spanner_V1_RollbackRequest_Google_Api_Gax_Grpc_CallSettings_" data-uid="Google.Cloud.Spanner.V1.PooledSession.RollbackAsync(Google.Cloud.Spanner.V1.RollbackRequest,Google.Api.Gax.Grpc.CallSettings)">RollbackAsync(RollbackRequest, CallSettings)</h3>
  <div class="markdown level1 summary"><p>Executes a Rollback RPC asynchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task RollbackAsync(RollbackRequest request, CallSettings callSettings)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.RollbackRequest.html">RollbackRequest</a></td>
        <td><span class="parametername">request</span></td>
        <td><p>The rollback request. Must not be null. The request will be modified with session and transaction details
from this object.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Google.Api.Gax.Grpc.CallSettings</span></td>
        <td><span class="parametername">callSettings</span></td>
        <td><p>If not null, applies overrides to this RPC call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></td>
        <td><p>A task representing the asynchronous operation.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_V1_PooledSession_WithFreshTransactionOrNewAsync_" data-uid="Google.Cloud.Spanner.V1.PooledSession.WithFreshTransactionOrNewAsync*"></a>
  <h3 id="Google_Cloud_Spanner_V1_PooledSession_WithFreshTransactionOrNewAsync_Google_Cloud_Spanner_V1_TransactionOptions_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.V1.PooledSession.WithFreshTransactionOrNewAsync(Google.Cloud.Spanner.V1.TransactionOptions,System.Threading.CancellationToken)">WithFreshTransactionOrNewAsync(TransactionOptions, CancellationToken)</h3>
  <div class="markdown level1 summary"><p>Always returns a new instance of <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a>. The new instance can:</p>
<ol>
<li>represent the same session as this one, but will have a fresh transaction of the
same type as this <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a> did.</li>
<li>represent an entirely different session with a fresh transaction of the same type
as this <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a> did.
This method will always try to get a fresh transaction for this session.
If the session has expired or it fails to get a fresh transaction, then it will
acquire a session in the normal way.
This <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a> instance will be disposed of to ensure that all operations
with the underlying session are done through the new instance.</li>
</ol>
</div>
  <div class="markdown level1 conceptual"></div>
  <h4 class="decalaration">Declaration</h4>
  <div class="codewrapper">
    <pre><code class="prettyprint">public Task&lt;PooledSession&gt; WithFreshTransactionOrNewAsync(TransactionOptions transactionOptions, CancellationToken cancellationToken)</code></pre>
  </div>
  <h4 class="parameters">Parameters</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.TransactionOptions.html">TransactionOptions</a></td>
        <td><span class="parametername">transactionOptions</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h4 class="returns">Returns</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a>&gt;</td>
        <td><p>A new instance of <a class="xref" href="Google.Cloud.Spanner.V1.PooledSession.html">PooledSession</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h4 id="Google_Cloud_Spanner_V1_PooledSession_WithFreshTransactionOrNewAsync_Google_Cloud_Spanner_V1_TransactionOptions_System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Use this method when executing operations that are best done using the same
session. For instance, when retrying aborted commits it is better if the transaction work and commit
are retried with the same session, because after each abort the sessions&apos; lock priority increments.</p>
</div>
  <h4 class="exceptions">Exceptions</h4>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.invalidoperationexception">InvalidOperationException</a></td>
        <td><p>If this <span class="xref">Google.Cloud.Spanner.V1.PooledSession.TransactionMode</span>
is <a class="xref" href="Google.Cloud.Spanner.V1.TransactionOptions.ModeOneofCase.html#Google_Cloud_Spanner_V1_TransactionOptions_ModeOneofCase_None">None</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h2 id="implements">Implements</h2>
  <div>
      <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.idisposable">System.IDisposable</a>
  </div>
</article>
    </div>
  </body>
</html>
